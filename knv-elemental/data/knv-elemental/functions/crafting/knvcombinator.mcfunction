# Pearl Combinator
# - Allows crafting recipes related to elemental pearls
# - Work in progress
#################################################################

# Clean Up Combinator if destroyed
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:air run kill @s

#################
# Pearl Recipes #
#################

# =============== Fire Pearls =============== #
# Standard
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:1b,id:"minecraft:fire_charge",Count:1b},{Slot:2b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:3b,id:"minecraft:fire_charge",Count:1b},{Slot:4b,id:"minecraft:ender_pearl",Count:8b},{Slot:5b,id:"minecraft:fire_charge",Count:1b},{Slot:6b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:7b,id:"minecraft:fire_charge",Count:1b},{Slot:8b,id:"minecraft:lapis_lazuli",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Fire Pearl\"]",Lore:["{\"text\":\"A fire pearl.\"}","{\"text\":\"Throw to summon flames.\"}"]},CustomModelData:1}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Greater - uses {Slot:1b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}}
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:diamond",Count:1b},{Slot:1b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:2b,id:"minecraft:diamond",Count:1b},{Slot:3b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Fire Pearl\"]"}}},{Slot:5b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:6b,id:"minecraft:diamond",Count:1b},{Slot:7b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:8b,id:"minecraft:diamond",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Greater Fire Pearl\"]",Lore:["{\"text\":\"A fire pearl swirling with chaotic engergy.\"}","{\"text\":\"Throw to summon a powerful fireball.\"}"]},CustomModelData:2}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Ultimate - uses {Slot:0b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}} and {Slot:1b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Fire Pearl\"]"}}}
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:1b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Fire Pearl\"]"}}},{Slot:2b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:3b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Fire Pearl\"]"}}},{Slot:4b,id:"minecraft:nether_star",Count:1b},{Slot:5b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Fire Pearl\"]"}}},{Slot:6b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:7b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Fire Pearl\"]"}}},{Slot:8b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Ultimate Fire Pearl\"]",Lore:["{\"text\":\"A violently hot fire pearl.\"}","{\"text\":\"Throw to unleash fiery destruction!\"}"]},CustomModelData:3}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}


# =============== Air Pearls =============== #
# Standard
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:1b,id:"minecraft:feather",Count:1b},{Slot:2b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:3b,id:"minecraft:feather",Count:1b},{Slot:4b,id:"minecraft:ender_pearl",Count:8b},{Slot:5b,id:"minecraft:feather",Count:1b},{Slot:6b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:7b,id:"minecraft:feather",Count:1b},{Slot:8b,id:"minecraft:lapis_lazuli",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Air Pearl\"]",Lore:["{\"text\":\"An air pearl swirling with chaotic engergy.\"}","{\"text\":\"Throw to summon a powerful lightning bolt.\"}"]},CustomModelData:4}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Greater
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:diamond",Count:1b},{Slot:1b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:2b,id:"minecraft:diamond",Count:1b},{Slot:3b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Air Pearl\"]"}}},{Slot:5b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:6b,id:"minecraft:diamond",Count:1b},{Slot:7b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:8b,id:"minecraft:diamond",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Greater Air Pearl\"]",Lore:["{\"text\":\"An air pearl with the soft glow of a storm cloud.\"}","{\"text\":\"Throw to create a potent updraft of air.\"}"]},CustomModelData:5}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Ultimate
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:1b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Air Pearl\"]"}}},{Slot:2b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:3b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Air Pearl\"]"}}},{Slot:4b,id:"minecraft:nether_star",Count:1b},{Slot:5b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Air Pearl\"]"}}},{Slot:6b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:7b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Air Pearl\"]"}}},{Slot:8b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Ultimate Air Pearl\"]",Lore:["{\"text\":\"A violently sparking air pearl.\"}","{\"text\":\"Throw to unleash a whirlwind of destruction!\"}"]},CustomModelData:6}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}


# =============== Ice Pearls =============== #
# Standard
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:1b,id:"minecraft:ice",Count:1b},{Slot:2b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:3b,id:"minecraft:ice",Count:1b},{Slot:4b,id:"minecraft:ender_pearl",Count:8b},{Slot:5b,id:"minecraft:ice",Count:1b},{Slot:6b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:7b,id:"minecraft:ice",Count:1b},{Slot:8b,id:"minecraft:lapis_lazuli",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Ice Pearl\"]",Lore:["{\"text\":\"An ice pearl cold to the touch.\"}","{\"text\":\"Throw to summon a cage of solid ice.\"}"]},CustomModelData:7}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Greater
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:diamond",Count:1b},{Slot:1b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:2b,id:"minecraft:diamond",Count:1b},{Slot:3b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Ice Pearl\"]"}}},{Slot:5b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:6b,id:"minecraft:diamond",Count:1b},{Slot:7b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:8b,id:"minecraft:diamond",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Greater Ice Pearl\"]",Lore:["{\"text\":\"An ice pearl coated in frost.\"}","{\"text\":\"Throw to produce a freezing cloud, flash freezing any block on impact.\"}"]},CustomModelData:8}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Ultimate
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:1b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ice Pearl\"]"}}},{Slot:2b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:3b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ice Pearl\"]"}}},{Slot:4b,id:"minecraft:nether_star",Count:1b},{Slot:5b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ice Pearl\"]"}}},{Slot:6b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:7b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ice Pearl\"]"}}},{Slot:8b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Ultimate Ice Pearl\"]",Lore:["{\"text\":\"A crystalline ice pearl freezing to the touch.\"}","{\"text\":\"Throw to form a deathly frozen bridge of ice!\"}"]},CustomModelData:9}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}


# =============== Stone Pearls =============== #
# Standard
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:1b,id:"minecraft:stone",Count:1b},{Slot:2b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:3b,id:"minecraft:stone",Count:1b},{Slot:4b,id:"minecraft:ender_pearl",Count:8b},{Slot:5b,id:"minecraft:stone",Count:1b},{Slot:6b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:7b,id:"minecraft:stone",Count:1b},{Slot:8b,id:"minecraft:lapis_lazuli",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Stone Pearl\"]",Lore:["{\"text\":\"A stone pearl solid to the touch.\"}","{\"text\":\"Throw to create a minor explosion on impact.\"}"]},CustomModelData:10}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Greater
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:diamond",Count:1b},{Slot:1b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:2b,id:"minecraft:diamond",Count:1b},{Slot:3b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Stone Pearl\"]"}}},{Slot:5b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:6b,id:"minecraft:diamond",Count:1b},{Slot:7b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:8b,id:"minecraft:diamond",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Greater Stone Pearl\"]",Lore:["{\"text\":\"A stone pearl vibrating and humming.\"}","{\"text\":\"Throw to produce gravitational waves, affecting surrouding blocks.\"}"]},CustomModelData:11}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Ultimate
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:1b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Stone Pearl\"]"}}},{Slot:2b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:3b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Stone Pearl\"]"}}},{Slot:4b,id:"minecraft:nether_star",Count:1b},{Slot:5b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Stone Pearl\"]"}}},{Slot:6b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:7b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Stone Pearl\"]"}}},{Slot:8b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Ultimate Stone Pearl\"]",Lore:["{\"text\":\"A massive stone pearl that is both heavy and weightless.\"}","{\"text\":\"Throw to create an explosive earthquake!\"}"]},CustomModelData:12}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}


# =============== Ender Pearls =============== #
# Greater
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:diamond",Count:1b},{Slot:1b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:2b,id:"minecraft:diamond",Count:1b},{Slot:3b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:4b,id:"minecraft:ender_pearl",Count:8b},{Slot:5b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:6b,id:"minecraft:diamond",Count:1b},{Slot:7b,id:"minecraft:prismarine_shard",Count:1b,tag:{display:{Name:"[\"Elemental Shard\"]"}}},{Slot:8b,id:"minecraft:diamond",Count:1b}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Greater Ender Pearl\"]",Lore:["{\"text\":\"An ender pearl that's phasing in your hand.\"}","{\"text\":\"Throw to switch locations of the nearest player and entity.\"}"]},CustomModelData:13}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}
# Ultimate
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:1b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ender Pearl\"]"}}},{Slot:2b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:3b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ender Pearl\"]"}}},{Slot:4b,id:"minecraft:nether_star",Count:1b},{Slot:5b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ender Pearl\"]"}}},{Slot:6b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}},{Slot:7b,id:"minecraft:snowball",Count:2b,tag:{display:{Name:"[\"Greater Ender Pearl\"]"}}},{Slot:8b,id:"minecraft:prismarine_crystals",Count:1b,tag:{display:{Name:"[\"Elemental Crystal\"]"}}}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:snowball",Count:8b,tag:{display:{Name:"[\"Ultimate Ender Pearl\"]",Lore:["{\"text\":\"An ender pearl that is both there... and not.\"}","{\"text\":\"Throw to bring in a little of the End dimension.\"}"]},CustomModelData:14}}],CustomName:"{\"text\":\"Pearl Combinator\"}"}


##########################
# Elemental Totem Recipe #
##########################
execute as @e[tag=knvCombinator] at @s if block ~ ~1 ~ minecraft:dropper{Items:[{Slot:1b,id:"minecraft:snowball",Count:1b,tag:{display:{Name:"[\"Fire Pearl\"]"}}},{Slot:3b,id:"minecraft:snowball",Count:1b,tag:{display:{Name:"[\"Air Pearl\"]"}}},{Slot:4b,id:"minecraft:armor_stand",Count:1b},{Slot:5b,id:"minecraft:snowball",Count:1b,tag:{display:{Name:"[\"Ice Pearl\"]"}}},{Slot:7b,id:"minecraft:snowball",Count:1b,tag:{display:{Name:"[\"Stone Pearl\"]"}}}]} run data merge block ~ ~1 ~ {Items:[{Slot:4b,id:"minecraft:armor_stand",Count:1b,tag:{display:{Name:"[\"Elemental Totem\"]",Lore:["{\"text\":\"Requires clerical sacrifice...\"}"]},Enchantments:[{id:"minecraft:power",lvl:1s}],EntityTag:{Tags:["knvTotemElemental"]}}}]}
